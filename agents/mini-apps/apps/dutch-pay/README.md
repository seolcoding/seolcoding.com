# 더치페이 정산 (Dutch Pay Calculator)

모임/회식 후 정산을 간편하게 처리하는 웹 기반 더치페이 계산기입니다. 최소 송금 횟수로 정산을 최적화합니다.

## 주요 기능

- **참여자 관리**: 참여자 추가/삭제, 총무 지정
- **지출 항목 추가**: 항목명, 금액, 결제자, 참여자 선택
- **정산 방식**: 균등 분할 (N분의 1)
- **최적 정산 알고리즘**: 최소 송금 횟수로 정산 최적화
- **정산 결과 표시**:
  - 송금 안내 (누가 누구에게 얼마)
  - 개인별 정산 내역 (지불액, 부담액, 차액)
  - 지출 내역 상세
- **공유 기능**:
  - 텍스트 복사 (카카오톡 공유용)
  - 이미지 다운로드 (PNG)
  - 네이티브 공유 (모바일)

## 기술 스택

- React 19
- TypeScript
- Tailwind CSS v4
- Zustand (상태 관리)
- html2canvas (이미지 생성)
- date-fns (날짜 포맷팅)
- @mini-apps/ui (공용 UI 컴포넌트)

## 개발

```bash
# 의존성 설치
pnpm install

# 개발 서버 실행
pnpm dev

# 빌드
pnpm build

# 프리뷰
pnpm preview
```

## 정산 알고리즘

**Greedy 알고리즘**을 사용하여 최소 송금 횟수를 보장합니다:

1. 각 참여자의 순 잔액 계산 (지불액 - 부담액)
2. 채권자(받을 사람)와 채무자(보낼 사람) 분리
3. 가장 큰 채권자와 채무자를 매칭하여 거래 생성
4. 모든 잔액이 0이 될 때까지 반복

### 예시

**입력**:
- 김철수: 80,000원 지불, 30,000원 부담 → +50,000원
- 이영희: 0원 지불, 30,000원 부담 → -30,000원
- 박민수: 70,000원 지불, 30,000원 부담 → +40,000원
- 최지훈: 0원 지불, 30,000원 부담 → -30,000원
- 정수아: 0원 지불, 30,000원 부담 → -30,000원

**최적 송금 (4회)**:
1. 이영희 → 김철수 30,000원
2. 최지훈 → 박민수 30,000원
3. 정수아 → 김철수 20,000원
4. 정수아 → 박민수 10,000원

## 향후 개선 계획

- [ ] 개별 금액 정산 방식
- [ ] 비율 정산 방식
- [ ] 카카오페이/토스 송금 링크 생성
- [ ] QR 코드 생성
- [ ] LocalStorage 저장/불러오기
- [ ] 정산 내역 공유 링크

## 라이선스

MIT License
